<!DOCTYPE HTML>
<!--
/*
* jQuery File Upload Plugin AngularJS Demo 2.1.2
* https://github.com/blueimp/jQuery-File-Upload
*
* Copyright 2013, Sebastian Tschan
* https://blueimp.net
*
* Licensed under the MIT license:
* http://www.opensource.org/licenses/MIT
*/
-->
<html lang="en">
<head>
<!-- Force latest IE rendering engine or ChromeFrame if installed -->
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<![endif]-->
<meta charset="utf-8">
<title>jQuery File Upload Demo - AngularJS version</title>
<meta name="description"
	content="File Upload widget with multiple file selection, drag&amp;drop support, progress bars, validation and preview images, audio and video for AngularJS. Supports cross-domain, chunked and resumable file uploads and client-side image resizing. Works with any server-side platform (PHP, Python, Ruby on Rails, Java, Node.js, Go etc.) that supports standard HTML form file uploads.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script src="load-image.min.js"></script>


</head>
<body>
	<!-- The file upload form used as target for the file upload widget -->
	<form id="fileupload" action="//jquery-file-upload.appspot.com/" method="POST" enctype="multipart/form-data" data-ng-app="demo" data-ng-controller="DemoFileUploadController" data-file-upload="options"
		data-ng-class="{'fileupload-processing': processing() || loadingFiles}">
		<!-- Redirect browsers with JavaScript disabled to the origin page -->
		<noscript>
			<input type="hidden" name="redirect" value="http://blueimp.github.io/jQuery-File-Upload/">
		</noscript>
		<!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
		<div class="row fileupload-buttonbar">
			<div class="col-lg-7">
				<!-- The fileinput-button span is used to style the file input field as button -->
				<span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}"> <i class="glyphicon glyphicon-plus"></i> <span>Add files...</span> <input id="xxx" type="file" name="files"
					multiple ng-disabled="disabled" value="xxxxxx">
				</span>

			</div>

		</div>
		<!-- The table listing the files available for upload/download -->

		<table class="table table-striped files ng-cloak">
			<tr data-ng-repeat="file in queue" data-ng-class="{'processing': file.$processing()}">
				<td data-ng-switch data-on="!!file.thumbnailUrl">
					<div class="preview" data-ng-switch-when="true">
						<a data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}" data-gallery><img data-ng-src="{{file.thumbnailUrl}}" alt=""></a>
					</div>
					<div class="preview" data-ng-switch-default data-file-upload-preview="file"></div>
				</td>
				<td>
					<p class="name" data-ng-switch data-on="!!file.url">
						<span data-ng-switch-when="true" data-ng-switch data-on="!!file.thumbnailUrl"> <a data-ng-switch-when="true" data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}"
							data-gallery>{{file.name}}</a> <a data-ng-switch-default data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}">{{file.name}}</a>
						</span> <span data-ng-switch-default>{{file.name}}</span>
					</p> <strong data-ng-show="file.error" class="error text-danger">{{file.error}}</strong>
				</td>

			</tr>
		</table>

		<hr>
		<hr>
		<hr>
		<hr>

		<label for="iphone-portrait">Size: (768 x 768)</label> 
	<!-- 	
		<input type="file" name="shortcut" id="shortcut">
		 <img id="iphone-portrait-img" class='media-image' src="">;
		 
		 
		  -->
		 
		 file-input:
		<input type="file"  id="file-input" name="shortcut" id="shortcut">
		img:[<div id="abc"></div>]
	</form>
	<br>
	
	
	
		
<script>
$(function(){
$('input[type=file]').each(function(){
	$(this).change(function(e){  
	var currentObj = $(this);
	var loadingImage = loadImage(
	    e.target.files[0],
	    function (img) {
	        var content;
	        if (!(img.src || img instanceof HTMLCanvasElement)) {
	            content = $('<span>Loading image file failed</span>');
	        } else {
	            content = $('<a target="_blank">').append(img).attr('href', img.src || img.toDataURL());  
	            $('#abc').html(content);                           
	            
					var openWin = window.open('', '', 'height=600, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no');
					// openWin.document.write("<div>jhjhjhlkhj</div><div>img:<a target='_blank' href='"+(img.src || img.toDataURL())+"'</div>");
					
					var img_div=document.createElement("div");
					img_div.appendChild(content);
					openWin.document.write(img_div);
					openWin.document.close(); 
	            
  	        	$(img).click(function(e) {
					var openWin = window.open('', '', 'height=600, width=800, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no');
					// openWin.document.write("<div>jhjhjhlkhj</div><div>img:<a target='_blank' href='"+(img.src || img.toDataURL())+"'</div>");
					openWin.document.append(content);
					openWin.document.close(); 
					e.preventDefault();
				}); 
	            
	        }
	    },
	    {maxWidth: 600}
	);          
	});
});
});
</script>
	
	
	<script>

		/* 	$(function() {
				document.getElementById('file-input').onchange = function(e) {
					loadImage(e.target.files[0], function(img) {
						var widthheight=$("#img_div").attr("widthheight");
						$(img).attr("class","media-image");
						$(img).attr("widthheight",widthheight);
						var content = $('<a target="_blank">').append(img).attr('href', img.src || img.toDataURL());
						$("#img_div").html(content);
						scaleOriginalImage('media-image');
					}, {
						maxWidth : 600
					} // Options
					);
				};

			});
 */
//		});
	</script>

</body>
</html>